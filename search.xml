<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ËÅöÁ±ªÁÆóÊ≥ï‰πãmeanShift]]></title>
    <url>%2F2019%2F05%2F14%2F%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E4%B9%8BmeanShift%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÂú®ÂºÄÂßãMeanshift‰πãÂâçÈúÄË¶ÅÂÖàÂºÑÊáÇK-meansÔºåÂõ†‰∏∫K-meansÁöÑÁº∫ÁÇπÔºàÈúÄË¶Å‰∫ãÂÖàËÆæÁΩÆÊóèÁöÑÊï∞ÈáèKÔºåÂíåËµ∑ÂßãÊóè‰∏≠ÂøÉÔºâÔºåÂèØÊòØÂ§ßÂ§öÊó∂ÂÄôÔºå‰∫∫Â∑•Âπ∂‰∏çËÉΩÂÆåÁæéÁöÑËÆæÁΩÆKÂíåËµ∑Âßã‰∏≠ÂøÉÔºåÂ∞±‰ºöÂØºËá¥ÔºåÊú¨Êù•ÂèØ‰ª•ËÅöÊàê5Á±ªÁöÑÔºåÁªìÊûúÂè™ËÅöÊàê4Á±ªÁ≠â‰∏ÄÁ≥ªÂàóÈóÆÈ¢ò„ÄÇËÄåMeanShiftÔºàÂùáÂÄºÊºÇÁßªÔºâËß£ÂÜ≥‰∫ÜËøô‰∫õÈóÆÈ¢ò.MeanShiftÁÆóÊòØÂØπK-meansÁöÑ‰∏ÄÁßçÊîπËøõ„ÄÇÈ¶ñÂÖà‰∏çÈúÄË¶Å‰∫ãÂÖàËæìÂÖ•KÔºåËÄåÊòØÊ†πÊçÆÊóèÂøÉÊºÇÁßªÔºåËá™Âä®ËÅöÈõÜÂá∫KÁ±ªÔºõÂè¶Â§ñÔºåÂü∫‰∫éÂèØ‰ª•ÊºÇÁßªËá™Âä®ËÅöÁ±ªÔºåÈÇ£‰πàËµ∑ÂßãÊóèÂøÉ‰πü‰∏çÈúÄË¶ÅÊèêÂâçËæìÂÖ•ÔºåÂèØ‰ª•ÊãøÊï∞ÊçÆ‰∏≠ÊâÄÊúâÁöÑÂÖÉÁ¥†‰Ωú‰∏∫Ëµ∑ÂßãÊóèÂøÉÔºàÂè™ÊòØ‰ºöÂ¢ûÂä†ËøáÈáèËÆ°ÁÆóÔºåËøôÁØá‰∏≠Êàë‰ºöÂÅöÊï∞ÊçÆÁ≤óÁ≤íÂåñÂ§ÑÁêÜÔºåÊù•ÂáèÂ∞ëËøáÈáèËÆ°ÁÆóÔºâ ÁÆóÊ≥ïÊ†∏ÂøÉÊÄùÊÉ≥ÂØπ‰∫éÊâÄÊúâËµ∑ÂßãÊóèÂøÉÔºåËÆ°ÁÆóÂÖ∂ËßÑÂÆöÁêÉÂÜÖÊâÄÊúâÂÖÉÁ¥†ÁöÑÂùáÂÄº‰Ωú‰∏∫‰∏ã‰∏Ä‰∏™ÊóèÂøÉÔºåÂΩìÂâçÊóèÂøÉÂà∞Êñ∞ÁöÑÊóèÂøÉÁöÑÂêëÈáèÂè´ÂÅöÂÅèÁßªÂêëÈáè„ÄÇÊñ∞ÁöÑÂùáÂÄºÊóèÂøÉËÆ°ÁÆóÂáΩÊï∞Ôºö ‚Äã ‰∏äÂºèÈªòËÆ§‰∏∫ÁêÉÂÜÖÊØè‰∏™ÂÖÉÁ¥†ÊùÉÈáç‰∏ÄÊ†∑„ÄÇÈÇ£‰πà‰ªétÊó∂ÂàªÂà∞t+1Êó∂ÂàªÂùáÂÄº‰∏≠ÂøÉÁöÑÂÅèÁßªÂêëÈáè‰∏∫Ôºö ËÄåÂú®MeanShiftËÅöÁ±ªËøáÁ®ã‰∏≠‰∏∫‰∫ÜÂä†Âø´Êî∂ÊïõÔºåÂºïÂÖ•‰∫ÜÊ†∏ÂáΩÊï∞„ÄÇÁõ∏ÂΩì‰∫éÂú®ÁªôÂΩìÂâçÁêÉÂÜÖÊâÄÊúâÁÇπÂä†‰∏ä‰∏Ä‰∏™Áõ∏ÂØπÁêÉÂøÉÁöÑÈ´òÊñØÊùÉÈáçÔºà‰πüÂèØ‰ª•Âä†ÂÖ•ÂÖ∂‰ªñÂíåÂáΩÊï∞ÔºâÔºåÂÅèÁßªÂêëÈáèÂèòÊàêÂ¶Ç‰∏ãÔºö Ëá≥‰∫é ‰∏∫‰ªÄ‰πàÂä†ÂÖ•È´òÊñØÊ†∏ÂáΩÊï∞ÂêéËÉΩÂ§üÂÆûÁé∞Âä†ÈÄüÊî∂ÊïõÔºåÊé®ÂØºËøáÁ®ãÔºöhttps://www.cnblogs.com/liqizhou/archive/2012/05/12/2497220.htmlÔºåÂèØ‰ª•ÂèÇËÄÉËøôÁØáÊñáÁ´†ÔºåËØ¶ÁªÜËÆ≤Ëß£‰∫ÜÊé®ÂØºËøáÁ®ã„ÄÇ ÈÄöËøáÂä†ÂÖ•Ê†∏ÂáΩÊï∞ÁöÑÂÅèÁßªÂêëÈáèÔºåÂèØ‰ª•ËÆ°ÁÆóÂá∫Êñ∞ÁöÑÁêÉÂøÉÔºö g(x)‰∏∫È´òÊñØÂáΩÊï∞ÔºöhË°®Ëø∞ÁêÉÂçäÂæÑÔºàÂ∏¶ÂÆΩÔºâ È´òÊñØÂáΩÊï∞Êõ≤Á∫øÔºö ‰ªéÈ´òÊñØÊõ≤Á∫øÂèØ‰ª•ÁúãÂá∫ÔºöÁ¶ªÂΩìÂâçÁêÉÂøÉË∂äËøëÁöÑÁÇπÁöÑÊùÉÈáçË∂äÂ§ß„ÄÇ ÁÆóÊ≥ïÊµÅÁ®ã1„ÄÅ‰ª•ÊâÄÊúâÁÇπ‰Ωú‰∏∫Ëµ∑ÂßãÁÇπÔºàÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµÁ®ÄÈáäËµ∑ÂßãÁÇπÔºâÔºõ 2„ÄÅÊâæÂá∫Á¶ªcenterË∑ùÁ¶ªÂú®bandwidth‰πãÂÜÖÁöÑÊâÄÊúâÁÇπÔºåËÆ∞ÂÅöÈõÜÂêàMÔºåËÆ§‰∏∫Ëøô‰∫õÁÇπÂ±û‰∫éÁ∞ác„ÄÇÂêåÊó∂ÔºåÁªüËÆ°Â±û‰∫éËîücÁöÑÁÇπÁöÑ‰∏™Êï∞ÔºåËøô‰∏™ÂèÇÊï∞Â∞ÜÁî®‰∫éÊúÄÂêéÊ≠•È™§ÁöÑÂàÜÁ±ª 3„ÄÅÁÑ∂ÂêéËÆ°ÁÆóÂΩìÂâçcenterÂÜÖ‰ª•bandwidth‰∏∫ÂçäÂæÑÊâÄÊúâÁÇπÁöÑÊñ∞ÁöÑnewcenter„ÄÇ 4„ÄÅÂÅèÁßªÂêëÈáè‰∏∫shift = newcenter - center„ÄÇ ÁßªÂä®Ë∑ùÁ¶ªÊòØ||shift||„ÄÇ 5„ÄÅÈáçÂ§çÊ≠•È™§2„ÄÅ3„ÄÅ4ÔºåÁõ¥Âà∞shiftÁöÑÂ§ßÂ∞èÂæàÂ∞èÔºàÂ∞±ÊòØËø≠‰ª£Âà∞Êî∂ÊïõÔºâÔºåËÆ∞‰ΩèÊ≠§Êó∂ÁöÑnewcenter„ÄÇ 6„ÄÅÂ¶ÇÊûúÊî∂ÊïõÊó∂ÂΩìÂâçÁ∞ácÁöÑcenter‰∏éÂÖ∂ÂÆÉÂ∑≤ÁªèÂ≠òÂú®ÁöÑÁ∞ác2‰∏≠ÂøÉÁöÑË∑ùÁ¶ªÂ∞è‰∫éÈòàÂÄºÔºåÈÇ£‰πàc2ÂíåcÂè™ËÉΩÁïô‰∏ã‰∏Ä‰∏™ÔºåÁïô‰∏ã‰ª•bandwidth‰∏∫ÂçäÂæÑÔºåÁêÉÂÜÖÁÇπÂ§öÁöÑcenter„ÄÇ 6„ÄÅÈáçÂ§ç1„ÄÅ2„ÄÅ3„ÄÅ4„ÄÅ5Áõ¥Âà∞ÊâÄÊúâÁöÑÁÇπÈÉΩË¢´Ê†áËÆ∞ËÆøÈóÆ„ÄÇ 7„ÄÅÂàÜÁ±ªÔºöÊ†πÊçÆÊØè‰∏™ËîüÔºåÂØπÊØè‰∏™ÁÇπÁöÑËÆ°ÁÆóË∑ùÁ¶ªÔºåÂèñË∑ùÁ¶ªÊúÄËøëÁöÑÈÇ£‰∏™Á∞áÂøÉÔºå‰Ωú‰∏∫ÂΩìÂâçÁÇπÈõÜÁöÑÊâÄÂ±ûËîü„ÄÇ ÊúÄÂêéÊïàÊûúÂõæÔºö ÂÆåÊï¥‰ª£Á†Å‰º†ÈÄÅÈó®ÔºàgithubÔºâÔºöhttps://github.com/RoryXiang/MCL_dairy/blob/master/Clustering/MeanShift.py]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>Êú∫Âô®Â≠¶‰π†</tag>
        <tag>ËÅöÁ±ª</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AntAlgorithm(ËöÅÁæ§ÁÆóÊ≥ï)]]></title>
    <url>%2F2019%2F05%2F06%2F%E8%9A%82%E8%9A%81%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[‚Äã Âú®ÊàëÂÆåÂÖ®ÊêûÊòéÁôΩËöÇËöÅÁÆóÊ≥ï‰πãÂâçÔºåÊàë‰πüÂú®ÁΩë‰∏äÊâæ‰∫ÜÂ•ΩÂ§öËµÑÊñôÔºåÊØè‰∏™ÈÉΩÁúãÂÆåÔºåÈÉΩÊúâ‰∏Ä‰∏™ÁâπÁÇπÔºåÂ∞±ÊòØÔºå‰∏çÁÆ°Ë∞ÅÁöÑblogÊàñËÄÖËÆ∫ÊñáÔºåÈÉΩÊòØ‰ºöÊîæ‰∏ä‰∏â‰∏™Êï∞Â≠¶ÂÖ¨ÂºèÔºåÊàñËÄÖÂÜçÂä†‰∏ä‰∏ÄÊÆµÂØπÂ∫îÊï∞Â≠¶ÂÖ¨ÂºèÁöÑ‰ª£Á†Å„ÄÇÂØπ‰∫éÈùû‰∏ìÁßëÁîüÊù•ËØ¥ÈùûÂ∏∏Â§¥Áñº„ÄÇËøôÈáåÊàëÊåâÁÖßÊàëÁöÑÁêÜËß£ÈÄö‰øóÁöÑÂàÜ‰∫´‰∏Ä‰∏ã„ÄÇ #Ê†∏ÂøÉÊÄùË∑Ø ‚Äã Êú¨ÁÆóÊ≥ïÁöÑÂéüÁêÜÊòØÊ®°‰ªøËöÇËöÅÂú®Ëá™ÁÑ∂ÁïåÁöÑË°å‰∏∫Ôºå‰ΩÜÊòØÂèàÊúâÁÇπ‰∏çÂêå„ÄÇËöÇËöÅÂú®Ë°åÂæÑÁöÑË∑ØÈÄî‰∏≠‰ºöÈáäÊîæÊøÄÁ¥†Ôºå‰ª•‰æø‰∫éËá™Â∑±Ê¥ªÁùÄÂÖ∂‰ªñËöÇËöÅÊâæÂà∞Ëµ∞ËøáÁöÑË∑ØÂæÑÔºåÊøÄÁ¥†ÊòØÊúâÊå•ÂèëÊÄßÁöÑÔºåÊó∂Èó¥Ë∂ä‰πÖÊøÄÁ¥†ÁöÑÊµìÂ∫¶Â∞±‰ºöË∂ä‰ΩéÔºåË¢´ËØÜÂà´ÁöÑÊ¶ÇÁéáË∂ä‰Ωé„ÄÇÔºàËøô‰πüÊòØÁÆóÊ≥ïÁöÑÁ°¨Ê†∏ÊâÄÂú®Ôºâ„ÄÇÊâÄ‰ª•Âú®ÁÆóÊ≥ï‰∏≠ÔºåÊØè‰∏™ËöÇËöÅÊ≤°Ë∑ëÂÆå‰∏ÄÊ¨°Ë∑ØÂæÑÊâÄÊê∫Â∏¶ÁöÑ‰ø°ÊÅØÁ¥†ÊÄªÈáèÊòØ‰∏ÄÂÆöÁöÑÔºåË∑ØÂæÑË∂äÈïøÔºåÈÇ£‰πàÂçï‰ΩçË∑ØÂæÑ‰∏äÁöÑ‰ø°ÊÅØÁ¥†Â∞±Ë∂äÂ∞ëÔºåË¢´ÈáçÂ§çÈÄâÊã©‰∏™Ê¶ÇÁéáÂ∞±Ë∂äÂ∞èÔºåËÄåË¢´Ê∑òÊ±∞„ÄÇÂè¶Â§ñ‰ø°ÊÅØÁ¥†Âú®Ë∑Ø‰∏äÂèØ‰ª•Á¥ØÂä†ÁöÑÔºå‰ΩÜÊòØ‰ºöÈöèÊÑèÈó¥Êå•ÂèëÔºåÊâÄÊúâÁöÑËøô‰∫õÂΩ±ÂìçÂõ†Á¥†ÊÖ¢ÊÖ¢ÁöÑÂè†Âä†ÔºåÊúÄÁªàÂ∞±ÂèØ‰ª•ÈÄâÊã©Âá∫ÊúÄÁü≠Ë∑ØÂæÑ„ÄÇ #Êï∞Â≠¶Ê®°Âûã ‚Äã ‰∏ÄÔºâ„ÄÅÁ¨¨‰∏Ä‰∏™Êï∞Â≠¶Ê®°ÂûãÂáΩÊï∞Ôºå‰∏ã‰∏Ä‰∏™ÂüéÂ∏ÇÈÄâÊã©Ê¶ÇÁéáÂáΩÊï∞Ôºö Ëøô‰∏™Êï∞Â≠¶ÂÖ¨ÂºèÁöÑÊÑèÊÄùÊòØÔºåÂΩìÂâçÂú®Âú∞ i ‰∏™ÂüéÂ∏ÇÔºåÈÄâÊã©‰∏ã‰∏Ä‰∏™ÂüéÂ∏Ç j ÁöÑÊ¶ÇÁéáÔºàj‰ª£Ë°®ÊâÄÊúâÂüéÂ∏Ç‰∏≠Èùû i ÁöÑÂüéÂ∏ÇÔºâ„ÄÇ ##ÂàÜÂ≠êÔºö ÂâçÂçäÈÉ®ÂàÜÔºö Ë°®Á§∫ÂüéÂ∏Ç iÔºåj ‰πãÈó¥ÁöÑ‰ø°ÊÅØÂõ†Á¥†ÔºàÊâÄÊúâËöÇËöÅÂú®ÂüéÂ∏Ç iÔºåj ‰πãÈó¥Áïô‰∏ãÁöÑ‰ø°ÊÅØÁ¥†ÊÄªÂíåÔºåÂç≥‰ø°ÊÅØÊµìÂ∫¶Ôºâ ÂêéÂçäÈÉ®ÂàÜÔºö Ë°®Á§∫ÂüéÂ∏Ç iÔºåj ‰πãÈó¥ÁöÑË∑ùÁ¶ªË∑ùÁ¶ªÂõ†Á¥†ÔºàÈªòËÆ§‰∏∫Ë∑ùÁ¶ªÁöÑÂÄíÊï∞Ôºâ ##ÂàÜÊØçÔºö Ë°®Á§∫ÂΩìÂâçÂüéÂ∏Ç i Âà∞ÊâÄÊúâÂèØ‰ª•Âà∞ËææÁöÑÂüéÂ∏ÇÁöÑ ‰ø°ÊÅØÂõ†Á¥†‰∏éË∑ùÁ¶ªÂõ†Á¥†‰πòÊú∫ÁöÑÂä†Âíå„ÄÇ Ëøô‰∏ÄÊ≠•Êàë‰ª¨Áü•ÈÅì‰∫Ü‰ªéÂΩìÂâçÂüéÂ∏ÇÂà∞ÊØè‰∏Ä‰∏™ÂüéÂ∏ÇÁöÑÊ¶ÇÁéáÔºåÈÇ£‰πàÊé•‰∏ãÊù•Â∞±ÊòØÊåâÁÖßÊ¶ÇÁéáÊù•ÈÄâÊã©‰∏ã‰∏Ä‰∏™ÂüéÂ∏Ç„ÄÇËøôÈáåÊàë‰ª¨ÈááÁî®ËΩÆÁõòÁÆóÊ≥ïÔºà‰πüÂèØ‰ª•Áî®numpy.choise(target, size, p)Êù•ÈÄâÊã©‰∏ã‰∏Ä‰∏™ÂüéÂ∏ÇÔºâ ÈÄâÊã©‰∏ã‰∏Ä‰∏™ÂüéÂ∏ÇÁöÑ‰ª£Á†ÅÂùóÔºö 123456789101112131415161718192021222324252627282930313233343536373839def __choice_next_city(self): # ÂàùÂßãÂåñËΩ¨ÁßªÊ¶ÇÁéáÁü©ÈòµÔºà‰ªéÂΩìÂâçÂüéÂ∏ÇÂà∞ÊØè‰∏Ä‰∏™ÂüéÂ∏ÇÁöÑÊ¶ÇÁéáÔºâ cities_prob = np.zeros(shape=(city_num,)) # cities_prob = list(cities_prob) # Â∞ÜnumpyÁü©ÈòµËΩ¨Êç¢Êàêlist total_prob = 0.0 # Áî®Ê¶ÇÁéáÂáΩÊï∞ËÆ°ÁÆóÊ¶ÇÁéáÁü©Èòµ(ËÅîÊÉ≥ÈÄâË∑ØÊ¶ÇÁéáÂáΩÊï∞) for next_city in range(city_num): if self.callable_city[next_city]: try: # cities_prob[next_city] = np.power( # pheromone_graph[self.current_city][next_city], ALPHA) * np.power(1.0 / distance_graph[self.current_city][next_city], BATA) cities_prob[next_city] = pow( pheromone_graph[self.current_city][next_city], ALPHA) * pow(1.0 / distance_graph[self.current_city][next_city], BATA) total_prob += cities_prob[next_city] except ZeroDivisionError as e: print( f"Ant ID: &#123;self.ID&#125;, current city: &#123;self.current_city&#125;, target city: &#123;next_city&#125;") sys.exit(1) # ÈÄâÊã©‰∏ã‰∏Ä‰∏™ÂüéÂ∏Ç ÔºàË≤å‰ººÁî®ËΩÆÁõòÁÆóÊ≥ïÊØîÁî®numpyÂø´Ôºâ # next_city = np.random.choice(np.arange(city_num), size=1, p=cities_prob / float(total_prob)) # ËΩÆÁõòÁÆóÊ≥ï next_city = None if total_prob &gt; 0: temp_prob = random.uniform(0.0, total_prob) for i in range(city_num): if self.callable_city[i]: temp_prob -= cities_prob[i] if temp_prob &lt; 0.0: next_city = i break # Á¨¨‰∏Ä‰∏™Âæ™ÁéØÁöÑÊó∂ÂÄôÔºåÂè™ËÉΩÈöèÊú∫ÈÄâÊã© if not next_city: next_city = random.randint(0, city_num - 1) while not self.callable_city[next_city]: next_city = random.randint(0, city_num - 1) return next_city ‚Äã ‰∫åÔºâ„ÄÅ‰ªéÂüéÂ∏ÇÁöÑÈÄâÊã©Ê¶ÇÁéáÂáΩÊï∞ÂèØ‰ª•ÁúãÂà∞ÔºåÊúâ‰∏§‰∏™ÂΩ±ÂìçÂõ†Á¥†Ôºå‰∏Ä‰∏™ÊòØË∑ùÁ¶ªÂõ†Á¥†ÔºåËøô‰∏™Ê≤°‰∏§‰∏™ÂüéÂ∏Ç‰πãÈó¥ÊòØÂõ∫ÂÆöÁöÑ„ÄÇÂè¶Â§ñ‰∏Ä‰∏™Â∞±ÊòØ‰ø°ÊÅØÊµìÂ∫¶ÔºåœÑ(i,j).‰ø°ÊÅØÊµìÂ∫¶‰ºöÂú®ÊØèÂè™ËöÇËöÅÁªèËøá‰πãÂêéÂ¢ûÂä†ÔºåÂè¶Â§ñÔºå‰ø°ÊÅØ‰πü‰ºöÈöèÁùÄÊó∂Èó¥‰ºöÂèëÔºåÊâÄ‰ª•‰ø°ÊÅØÊµìÂ∫¶‰ºöÊúâ‰∏Ä‰∏™Êõ¥Êñ∞ÂáΩÊï∞Ôºö Á¨¨‰∏Ä‰∏™ÂáΩÊï∞Ë°®Á§∫ iÔºå j‰∏§‰∏™ÂüéÂ∏Ç‰πãÈó¥ÁöÑ‰ø°ÊÅØÊµìÂ∫¶‰ªétÊó∂ÂàªÂà∞t+1Êó∂ÂàªÂêé œÅ Ë°®Á§∫‰ø°ÊÅØÁ¥†ÁöÑÊå•ÂèëÈÄüÂ∫¶„ÄÇ‚àáœÑ(i,j)Ë°®Á§∫ÊâÄÊúâÁöÑËöÇËöÅÂú® iÔºåj ‰πãÈó¥Áïô‰∏ãÁöÑ‰ø°ÊÅØÁ¥†‰πãÂíå„ÄÇŒ¥œÑ(ij)Ë°®Á§∫ÊØèÂè™ËöÇËöÅÂú® iÔºåj ‰∏§‰∏™ÂüéÂ∏Ç‰πãÈó¥Áïô‰∏ãÁöÑ‰ø°ÊÅØÁ¥†„ÄÇ ‰ø°ÊÅØÊµìÂ∫¶Êõ¥Êñ∞‰ª£Á†ÅÔºö 1234567891011121314151617def __uodate_pheromone_graph(self): """Êõ¥Êñ∞‰ø°ÊÅØÁ¥†""" # ÂàùÂßãÂåñËöÇËöÅÊú¨ËΩÆÈáäÊîæÁöÑ‰ø°ÊÅØÁü©ÈòµÔºàÊØèÂè™ËöÇËöÅÁöÑ‰ø°ÊÅØÁ¥†ÈÉΩÈúÄË¶ÅÂä†ËøõÊù•Ôºâ: Áõ∏ÂΩì‰∫éËÆ°ÁÆó ‚ñ≥Tij temp_pheromone = np.zeros((city_num, city_num)) # temp_pheromone = list(temp_pheromone) # Â∞ÜnumpyÁü©ÈòµËΩ¨Êç¢Êàêlist for ant in self.ants: # Â∞ÜÊâÄÊúâËöÇËöÅÂú®Ë∑ØÂæÑ‰∏äÁïô‰∏ãÁöÑ‰ø°ÊÅØÁ¥†Âè†Âä† for i in range(1, city_num): start, end = ant.path[i - 1], ant.path[i] # ËøôÈáåÁî®Âà∞ËöÇËöÅ‰ø°ÊÅØÁ¥†ÈáäÊîæÊ®°ÂûãÂáΩÊï∞ temp_pheromone[start][end] += Q / ant.total_distance temp_pheromone[end][start] = temp_pheromone[start][end] # Êõ¥Êñ∞‰ø°ÊÅØÁ¥†Áü©Èòµ (Áî®Âà∞‰ø°ÊÅØÁ¥†ÊµìÂ∫¶Êõ¥Êñ∞ÂáΩÊï∞) for i in range(city_num): for j in range(city_num): pheromone_graph[i][j] = pheromone_graph[i][j] * \ RHO + temp_pheromone[i][j] ‰∏âÔºâ„ÄÅÂú®Á¨¨‰∫åÊ≠•‰ø°ÊÅØÊµìÂ∫¶Êõ¥Êñ∞ÂáΩÊï∞ÁöÑÁ¨¨‰∫å‰∏™ÂáΩÊï∞‰∏≠ÔºåËøòÊúâ‰∏Ä‰∏™Êú™Ëß£ÂÜ≥ÁöÑÂèòÈáèŒ¥œÑ(ij)„ÄÇÊâÄÊúâËøôÈáåÊ∂âÂèäÂà∞Á¨¨‰∏â‰∏™ÂáΩÊï∞Ê®°ÂûãÔºöËöÇËöÅ‰ø°ÊÅØÁ¥†ÈáäÊîæÊ®°ÂûãÔºö QÊòØÂ∏∏ÈáèÂèÇÊï∞Ôºà‰∏ÄËà¨ËÆæÁΩÆ‰∏∫1„ÄÅ10„ÄÅ100Á≠âÔºâÔºåË°®Á§∫ÊØèÂè™ËöÇËöÅ‰∏ÄÊ¨°Âæ™ÁéØÈáäÊîæÁöÑ‰ø°ÊÅØÊÄªÈáèÔºõLË°®Á§∫ÊØèÂè™ËöÇËöÅÂΩìÊ¨°ÂÆåÊï¥Ë∑ØÁ∫øÁöÑÊÄªË∑ùÁ¶ª„ÄÇ Âõ†‰∏∫QÊòØÂÆöÂÄºÔºåÊâÄ‰ª•ÂΩìËöÇËöÅÁöÑË∑ØÁ∫øÊÄªË∑ØÁ®ãLË∂äÁü≠ÁöÑÊó∂ÂÄôÈáäÊîæÁöÑ‰ø°ÊÅØÁ¥†Œ¥œÑ(ij)Â∞±‰ºöË∂äÂ§ßÔºåÂØπ‰∫é‰ø°ÊÅØÁ¥†ÊµìÂ∫¶Êù•ËØ¥ÔºåÂΩìt+1Êó∂ÂàªÔºåÂ∞±‰ºöÊúâÊõ¥Â§ßÁöÑ‚àáœÑ(i,j)ÔºåÂíåÊõ¥Â§ßÁöÑ‰ø°ÊÅØÊµìÂ∫¶œÑ(i,j)ÔºåÊâÄ‰ª•Âú®t+1Êó∂ÂàªÔºåË¢´ÈÄâÊã©ÁöÑÊ¶ÇÁéáÂ∞±‰ºöÊõ¥Â§ßÔºå‰ª•ËøôÊ†∑‰∏ÄÊ¨°‰∏ÄÊ¨°Âè†Âä†ÔºåÊúÄÁªàÈÄâÊã©Âá∫Êù•ÊúÄÁü≠ÁöÑË∑ØÂæÑ„ÄÇ Êï¥‰∏™ÁÆóÊ≥ïÁöÑÊ†∏ÂøÉÊµÅÁ®ãÂàùÂßãÂåñËöÇËöÅÁßçÁæ§„ÄÇÂºÄÂßãË∑ëÁ¨¨‰∏Ä‰∏™Âæ™ÁéØÔºàÁ¨¨‰∏Ä‰∏™Âæ™ÁéØÁöÑÊó∂ÂÄôÔºåË∑ØÂæÑ‰∏äÊ≤°ÊúâÂéÜÂè≤‰ø°ÊÅØÁ¥†ÔºåÊâÄ‰ª•Á¨¨‰∏ÄËΩÆÁöÑÊó∂ÂÄôÊØèÂè™ËöÇËöÅÈÉΩÊòØÈöèÊú∫ÈÄâÊã©‰∏ã‰∏Ä‰∏™ÂüéÂ∏ÇÔºâÔºåÁ¨¨‰∏ÄÊ¨°Âæ™ÁéØÂÆåÊàêÂêéÔºåÈúÄË¶ÅËÆ°ÁÆóÊØèÂè™ËöÇËöÅÁöÑÊÄªË∑ØÁ®ã„ÄÅËÆ°ÁÆóÊØèÂè™ËöÇËöÅÁöÑ‰ø°ÊÅØÈáäÊîæÈáèÔºåÊõ¥Êñ∞ÊâÄÊúâÂüéÂ∏Ç‰πãÈó¥ÁöÑ‰ø°ÊÅØÊµìÂ∫¶ÔºõÊé•ÁùÄË∑ëÁ¨¨‰∫åËΩÆÔºåÁ¨¨‰∫åËΩÆÂæÄÂêéÔºåÊØèÊ¨°ÈÄâÊã©‰∏ã‰∏Ä‰∏™ÂüéÂ∏ÇÁöÑÊ¶ÇÁéáÂ∞±‰ºö‰∫ßÁîüÂ∑ÆÂºÇÔºåÁÑ∂ÂêéÈáçÂ§çÁ¨¨‰∏ÄËΩÆÊâÄÈúÄË¶ÅÂÅöÁöÑÊâÄÊúâÊõ¥Êñ∞„ÄÇ ÂÆåÊï¥‰ª£Á†Å‰º†ÈÄÅÈó®ÔºàgithubÔºâÔºöhttps://github.com/RoryXiang/MCL_dairy/blob/master/AG/AGTSP.py ÊúÄÂêéÈôÑ‰∏ä‰∏ÄÁØáÂÖ≥‰∫éËöÇËöÅÁÆóÊ≥ï‰∏≠ÂêÑ‰∏™ÂèÇÊï∞ÁöÑÂΩ±ÂìçÁöÑËÆ∫ÊñáÔºö ÈìæÊé•:https://pan.baidu.com/s/1UWv0Q3oboc22R8B5VRvmSw ÂØÜÁ†Å:lnp8 ‰∏ã‰∏ÄÁØáÂáÜÂ§áËä±ÁÇπÊó∂Èó¥ÁúãÁúãÊâÄÊúâÁöÑËÅöÁ±ªÁÆóÊ≥ïÁÑ∂ÂêéÂàÜ‰∫´‰∏Ä‰∏ã„ÄÇ]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>Êú∫Âô®Â≠¶‰π†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GeneticAlgorithm(ÈÅó‰º†ÁÆóÊ≥ï)]]></title>
    <url>%2F2019%2F04%2F12%2FGeneticAlgorithm%2F</url>
    <content type="text"><![CDATA[‚Äã Á¨¨‰∏ÄÁØáÂÜôÈÅó‰º†ÁÆóÊ≥ïÔºå‰∏ÄÊòØÂõ†‰∏∫ÊàëÊé•Ëß¶Á¨¨‰∏Ä‰∏™ÁÆóÊ≥ïÔºåÂè¶Â§ñÂ∞±ÊòØÂÆÉÁöÑÁî®ÈÄîÂæàÂπøÔºåÂæàÂ§öÊñπÂêëÈÉΩËÉΩÁî®Âà∞„ÄÇ‰∏ÄËà¨ÈÉΩÁî®Âú®Ëß£ÂÜ≥ÔºöÂáΩÊï∞ÊúÄÂÄºÈóÆÈ¢ò„ÄÅTSPÔºàÊóÖË°åÂïÜÈóÆÈ¢òÔºâ„ÄÅËÉåÂåÖÈóÆÈ¢òÁ≠âÁ≠â„ÄÇ ‚Äã ÈÅó‰º†ÁÆóÊ≥ïÂÆåÂÖ®ÁöÑÊ®°ÊãüÁîüÁâ©ÁöÑÈÅó‰º†ËøáÁ®ãÔºåÊâÄ‰ª•ÁÆóÊ≥ïÁöÑÊ†∏ÂøÉ‰πüÊòØÂèØ‰ª•Áî®ÁîüÁâ©ÁöÑÈÅó‰º†ËøáÁ®ãÊù•ÁêÜËß£ÔºöÈÅó‰º†ÂíåÂèòÂºÇüß¨ÔºåÈÄÇËÄÖÁîüÂ≠òÔºàÈÄâÊã©‰ºòËÉúËÄÖÔºâ„ÄÇÁÆóÊ≥ïÁöÑÈöæÁÇπ‰πüÊòØÂú®ÂÆûÈôÖ‰∏öÂä°ÊàñËÄÖ‰ΩøÁî®‰∏≠ÔºåÂ¶Ç‰ΩïÂ∞ÜÂÆûÈôÖÈóÆÈ¢òËΩ¨ÂåñÊàêÊï∞Â≠¶Ê®°Âûã‰∏≠ÁöÑÊ®°Âûã„ÄÇ ÂºÄÂßãÁ¨¨‰∏Ä‰∏™demoÔºàËß£ÂÜ≥TSPÈóÆÈ¢òÔºåÊ±ÇÊúÄÁü≠Ë∑ØÂæÑÔºâÔºö‚Äã ‰ª•20‰∏™ÂüéÂ∏Ç‰∏æ‰æãÔºåÊâæÂá∫ËÄÖ20‰∏™ÂüéÂ∏ÇÁöÑÊúÄÁü≠Ë∑ØÂæÑ„ÄÇ ‚Äã ÈÅó‰º†ÁÆóÊ≥ïÂú®Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÊó∂ÂÄôÔºåÊ†∏ÂøÉÊòØÔºöÈÅó‰º†„ÄÅÂèòÂºÇÂáΩÊï∞ÔºåËøôÈáåÊàë‰ª¨ÈááÁî®ÁöÑÊòØ‰∏ÄÈÉ®ÂàÜÂü∫Âõ†Êù•Ëá™Áà∂‰∫≤Ôºå‰∏ÄÈÉ®ÂàÜÊù•Ëá™ÊØç‰∫≤Ôºå‰æãÂ¶ÇÔºåfather = [1, 4, 5, 2, 3], motner = [2, 4, 3, 5, 1] ÂàôÂ≠©Â≠êÂèØËÉΩ‰∏∫ [1, 4, 3, 2, 5],ÂâçÂçäÈÉ®ÂàÜÂü∫Âõ†Êù•Ëá™Áà∂‰∫≤ÔºåÂêéÂçäÈÉ®ÂàÜÊù•Ëá™ÊØç‰∫≤ÔºåÈ°∫Â∫èÈÉΩÈúÄË¶Å‰øùÊåÅÁà∂ÊØçÁöÑ„ÄÇÂèòÂºÇÂë¢ÔºåÂàôÊòØÔºåÈöèÊú∫Êõ¥Êç¢‰ªªÊÑè‰∏§‰∏™‰ΩçÁΩÆÁöÑÂüéÂ∏Ç‰∏∫[1, 4, 1,5, 2, 3], 5, 3Êç¢‰ΩçÁΩÆ„ÄÇ ‰∫§ÂèâÂáΩÊï∞ÔºàÁîüÂ≠©Â≠êÁöÑËøáÁ®ãÔºâ12345678910111213141516171819202122232425def crossover(self, father, people): """‰∫§ÂèâÈÖçÂØπÂáΩÊï∞„ÄÇÂéüÁêÜÊòØÔºåÈÄâÊã©Áà∂‰∫≤ÁöÑ‰∏ÄÈÉ®ÂàÜÂüéÂ∏ÇÊéíÂ∫èÔºåÁÑ∂ÂêéÂâ©‰ΩôÁöÑÂüéÂ∏ÇÊéíÂ∫èÊåâÁÖßÊØç‰∫≤ÁöÑÊéíÂ∫èÊñπÂºèÁªÑÂêàÊàêÂ≠©Â≠êË∑ØÁ∫øÊñπÊ°à Arguments: father [city1,city2..] -- ÊâÄÊúâÁöÑÂüéÂ∏ÇÊéíÂ∫è people [[city1,city2..],[city4,city10..]] -- ÊâÄÊúâÁöÑË∑ØÁ∫øÊñπÊ°à Returns: [city1,city2..] -- ÁîüÊàêÁöÑÂ≠©Â≠êË∑ØÁ∫øÊñπÊ°àÊàñËÄÖÁà∂‰∫≤Ë∑ØÁ∫ø """ if np.random.rand() &lt; self.cross_rate: # ‰ªépeople‰∏≠ÈÄâÊã©Âè¶‰∏Ä‰∏™parent mother_index = np.random.randint(0, self.people_size, size=1) # ÈÄâÊã©‰∫§ÂèâÁöÑDNA‰∏ãÊ†á cross_points = np.random.randint(0, 2, self.DNA_size, dtype=np.bool) # ÈÄâÊã©fatherÈÉ®ÂàÜÁöÑÂüéÂ∏ÇÔºàÊéíÂ∫èÊñπÂºè‰∏∫fatherÂ∑≤ÊúâÁöÑÊéíÂ∫èÔºâ father_city = father[cross_points] # ÈÄâÊã©fatherÊ≤°ÈÄâ‰∏äÁöÑÂüéÂ∏ÇÔºàÊéíÂ∫èÊñπÂºè‰∏∫mother‰ª•ÂêéÁöÑÊéíÂ∫èÔºâ mother_city = people[mother_index, np.isin( people[mother_index].ravel(), father_city, invert=True)] child = np.concatenate((father_city, mother_city)) # time.sleep(10) # father[:] = np.concatenate((father_city, mother_city)) # return father return child return father ÂèòÂºÇÂáΩÊï∞1234567891011121314def mutate(self, child): """ÂèòÂºÇÂáΩÊï∞„ÄÇÊØè‰∏™ÂüéÂ∏ÇÈÉΩÊúâÂá†Áéá‰∫ßÁîüÂèòÂºÇ„ÄÇÂèòÂºÇÔºöÈöèÊú∫‰∏éË∑ØÁ∫ø‰∏äÁöÑÂè¶Â§ñ‰∏Ä‰∏™ÂüéÂ∏Ç‰∫§Êç¢‰ΩçÁΩÆ Arguments: child [int] -- Ë∑ØÁ∫øÊñπÊ°à Returns: child [int] -- Ë∑ØÁ∫øÊñπÊ°à """ for point_index in range(self.DNA_size): if np.random.rand() &lt; self.mutation_rate: swap_point_index = np.random.randint(0, self.DNA_size) swap_A, swap_B = child[point_index], child[swap_point_index] child[point_index], child[swap_point_index] = swap_B, swap_A return child ÂÆåÊàê‰∫ÜÈÅó‰º†ÂèòÂºÇÁöÑËøáÁ®ãÔºåÁîüÁâ©ÁßçÁæ§Â∞±‰ºöÂ¢ûÂ§öÔºåÊé•‰∏ãÊù•Â∞±ÊòØÈÄÇËÄÖÁîüÂ≠òÔºåÊã©‰ºòÁöÑËøáÁ®ã„ÄÇ‰ΩÜÊòØÂú®ÂÅöÈÄâÊã©ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊúâ‰∏Ä‰∏™ÈÄâÊã©Ê†áÂáÜÊù•Âà§Êñ≠ÈÇ£‰∏™‰∏™‰ΩìÊõ¥ÈÄÇÂêà„ÄÇÂú®Ëß£ÂÜ≥TSPÔºåÈÇ£‰πàÊØè‰∏™‰∏™‰ΩìÁöÑË∑ØÁ∫øÈïøÁü≠Âàô‰Ωú‰∏∫Âà§Êñ≠‰æùÊçÆÔºàË∑ØÁ∫øÁü≠ÁöÑ‰ºòËÉúÔºâ„ÄÇËøôÈáåÂ∞±ÈúÄË¶Å‰∏Ä‰∏™ËÆ°ÁÆóÈÄÇÂ∫îÊÄßÁöÑÂáΩÊï∞„ÄÇ ÈÄÇÂ∫îÊÄßËÆ°ÁÆóÂáΩÊï∞12345678910111213141516171819def get_fitness(self, xs_values, ys_values): """ËÆ°ÁÆóÊØèÊù°Ë∑ØÁ∫øÁöÑË∑ùÁ¶ªdistanceÔºåÂπ∂‰∏î‰ª•Ë∑ùÁ¶ªÁöÑÂÄíÊï∞‰∏∫eÁöÑÊåáÊï∞ÁöÑÂÄº‰Ωú‰∏∫fitness Arguments: xs_values [[float]]-- ÊâÄÊúâË∑ØÁ∫øÁöÑxÂùêÊ†áÂàóË°® ys_values [[float]]-- ÊâÄÊúâË∑ØÁ∫øÁöÑyÂùêÊ†áÂàóË°® Returns: fitness [float] -- ÊØèÊù°Ë∑ØÁ∫øÁöÑÈÄÇÂ∫îÊÄß total_distance [float] -- ÊØèÊù°Ë∑ØÁ∫øÁöÑË∑ùÁ¶ª """ total_distance = np.empty((xs_values.shape[0], ), dtype=np.float64) for index, (x_values, y_values) in enumerate(zip(xs_values, ys_values)): total_distance[index] = np.sum( np.sqrt(np.square(np.diff(x_values)) + np.square(np.diff(y_values)))) fitness = np.exp(self.DNA_size * 2 / total_distance) # ËøôÈáå‰∏∫‰ªÄ‰πàË¶Å‰πò‰ª•self.DNA_size * 2ÔºåÂõ†‰∏∫Âü∫Êï∞Â§™Â∞èÔºåfitness‰πãÈó¥Â∑ÆË∑ùÂ§™Â∞èÔºåÂú®ÂÅöselectÁöÑÊó∂ÂÄôÂ∞±‰ºöÊØè‰∏™Ê¶ÇÁéáÂá†‰πéÁõ∏Á≠â‰∫ÜÔºåÊî∂ÊïõÂ§™ÊÖ¢ÔºåÊîæÂ§ßÂêéÊ¶ÇÁéáÂ∑ÆÂ∞±Êõ¥Âá∏Êòæ # fitness1 = np.exp(1 / total_distance) # print("???????", fitness, fitness1) return fitness, total_distance ÈÄâÊã©ÂáΩÊï∞Ëøô‰∏™ÈÄâÊã©ÂáΩÊï∞ÁöÑÊÄùÊÉ≥ÊòØÔºå‰ªéÁßçÁæ§‰∏≠ÈÄâÊã©Êñ∞ÁöÑÁßçÁæ§ÔºåÊØè‰∏™‰∏™‰ΩìÈÉΩÂèØ‰ª•Ë¢´ÈáçÂ§çÈÄâÊã©Ôºå‰ΩÜÊòØÈÄÇÂ∫îÊÄßÈ´òÁöÑ‰∏™‰ΩìË¢´ÈáçÂ§çÈÄâÊã©ÁöÑÊ¶ÇÁéáÈ´òÔºåÈÄÇÂ∫îÊÄß‰ΩéÁöÑ‰∏™‰ΩìÔºåÂèØËÉΩ‰∏ÄÊ¨°ÈÉΩÈÄâ‰∏ç‰∏äÔºåreplace=TrueË°®Á§∫ÂèØË¢´ÈáçÂ§çÈÄâÊã©Ôºåp=fitness / fitness.sum()Ë°®Á§∫ÊØè‰∏™‰∏™‰ΩìÁöÑÈÄâÊã©Ê¶ÇÁéá 123456def select(self, fitness): """ÈÄâÊã©ÂáΩÊï∞ """ index = np.random.choice(np.arange( self.people_size), size=self.people_size, replace=True, p=fitness / fitness.sum()) return self.people[index] ËøõÂåñÂáΩÊï∞ÂΩìÂâçÁßçÁæ§ÁöÑ‰∏ÄÊ¨°ËøõÂåñÔºåÂÖàÊ†πÊçÆÈÄÇÂ∫îÊÄßÈÄâÊã©Êñ∞ÁöÑÁßçÁæ§ÔºåÁÑ∂ÂêéÂú®ÂØπÊØè‰∏™‰∏™‰ΩìËøõË°å‰∫§ÂèâÈÅó‰º†Âπ∂ÂØπÈÅó‰º†ÁöÑÊñ∞‰∏™‰Ωì‰∫ßÁîüÂèòÂºÇ 12345678910111213def evolve(self, fitness): """ËøõÂåñÂáΩÊï∞Ôºà‰∏ÄÊ¨°ËøõÂåñÔºâ Arguments: fitness &#123;[type]&#125; -- [description] """ people = self.select(fitness) people_copy = people.copy() for father in people: child = self.crossover(father, people_copy) child = self.mutate(child) # father[:] = child father = child self.people = people Êï¥‰∏™Ê±ÇËß£ÁöÑÊµÅÁ®ãÈ¶ñÂÖàÂàùÂßãÂåñ‰∏Ä‰∏™ÁîüÁâ©ÁßçÁæ§Ôºö 12ga = GA(DNA_size=CITY_NUM, cross_rate=CROSS_RATE, mutation_rate=MUTATION_RATE, people_size=POP_SIZE) # ÂàùÂßãÂåñÁßçÁæ§ ÂàùÂßãÂåñ20‰∏™ÂüéÂ∏Ç: 1env = TSP(city_num=CITY_NUM) # ÂàùÂßãÂåñ20ÊòØ‰∏™ÂüéÂ∏Ç ÁÑ∂ÂêéÊ†πÊçÆÂÆö‰πâÁöÑÈÅó‰º†‰ª£Êï∞Êù•ÈÄê‰ª£ËøõÂåñ 123456789101112for generation in range(N_GENERATION): # ËÆ°ÁÆóÂá∫ÊâÄÊúâ‰∏™‰ΩìÁöÑÂùêÊ†á x_values, y_values = ga.translate_DNA(ga.people, env.city_position) # ËÆ°ÁÆóÂá∫ÊâÄÊúâ‰∏™‰ΩìÁöÑÈÄÇÂ∫îÊÄß+Ë∑ØÁ®ã fitness, total_distance = ga.get_fitness(x_values, y_values) # ÈÅó‰º†ÊºîÂèò ga.evolve(fitness) # ÊâæÂá∫ÈÄÇÂ∫îÊÄßÊúÄÈ´òÁöÑ‰∏™‰Ωì best_idx = np.argmax(fitness) print('Gen:', generation, '| best fit: %.2f' % fitness[best_idx],) env.ploting(x_values[best_idx], y_values[best_idx], total_distance[best_idx]) ÂÆåÊï¥‰ª£Á†Å‰º†ÈÄÅÈó®Ôºö https://github.com/RoryXiang/MCL_dairy/blob/master/GeneticAlgorithm/shortest_path.py ‰∏ã‰∏ÄÁØáÊòØËöÇËöÅÁÆóÊ≥ïÊù•Ëß£ÂÜ≥TSP]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>Êú∫Âô®Â≠¶‰π†</tag>
      </tags>
  </entry>
</search>
